<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
	<title>Marker Clustering</title>
	<style>
		#map {
			height: 100%;
		}
		html, body {
			height: 100%;
			margin: 0;
			padding: 0;
		}
    </style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<!--<script src="jquery-1.6.1.js"></script>-->
	<script src="my_jquery.js"></script>
</head>
<body>

	<div id="map"></div>

	<script >
		function initMap() {
			//var location = {lat: currLat, lng: currLon};
			var map = new google.maps.Map(document.getElementById('map'), {
				zoom: 13,
				center: {lat: 43.661165, lng: -79.385501}
			});
			
			var labels = [];
			for(var i = 0; i < id.length; i++){
				labels.push(id[i]);
			}
			
			var markers = locations.map(function(location, i) {
				return new google.maps.Marker({
					position: location,
					label: labels[i%labels.length]
				});
			});
			
			var markerCluster = new MarkerClusterer(map, markers, {imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'});
			
			var locations = [];
			for(var i = 0; i < id.length; i++){
				var currLat = Number(lat[i]);
				var currLon = Number(lon[i]);
				locations.push({lat: currLat, lng: currLon});
			}
        
		}	
    </script>
	
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCCd3cjlKBlyvG3a-0iwrYuvpxOxHoJRes&callback=initMap">
    </script>
	


</body>
</html>
